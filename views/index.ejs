<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=1024, user-scalable=no">

	<title>Your deck.js Presentation</title>
	
	<!-- Required stylesheet -->
	<link rel="stylesheet" href="core/deck.core.css">
	
	<!-- Extension CSS files go here. Remove or add as needed. -->
	<link rel="stylesheet" href="extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="extensions/status/deck.status.css">
	<link rel="stylesheet" href="extensions/hash/deck.hash.css">
	<link rel="stylesheet" href="extensions/scale/deck.scale.css">

	<!-- Style theme. More available in /themes/style/ or create your own. -->
	<link rel="stylesheet" href="themes/style/web-2.0.css">
	
	<!-- Transition theme. More available in /themes/transition/ or create your own. -->
	<link rel="stylesheet" href="themes/transition/horizontal-slide.css">
	
	<!-- Required Modernizr file -->
	<script src="javascripts/modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Begin slides. Just make elements with a class of slide. -->

<section class="slide">
	<h1 id='start'>Click to Start</h1>
</section>

<section class="slide">
	<h1>Quadcopters</h1>
</section>

<section class="slide">
	<h1>what it is?</h1>
</section>

<section class="slide">
	<h1>Rescue and Exploration</h1>
</section>

<section class="slide">
	<h1>aerial video</h1>
</section>

<section class="slide">
	<h1>security and military</h1>
</section>

<section class="slide">
	<h1>construction</h1>
</section>

<section class="slide">
	<h1>fun! </h1>
</section>

<section class="slide">
	<h1>learning</h1>
</section>

<section class="slide">
	<h1>So, what's in the box?</h1>
</section>

<section class="slide">
	<h1>extra 15 seconds incase this fucks up!</h1>
</section>

<section class="slide">
	<h1>parrot ar drone 2.0</h1>
</section>

<section class="slide">
	<h1>controlled via node.js and socket.io</h1>
</section>

<section class="slide">
	<h1> web socket in slides, sends a command every transition</h1>
</section>

<section class="slide">
	<h1>example command</h1>
</section>

<section class="slide">
	<h1>another command</h1>
</section>

<section class="slide">
	<h1>node-ar-drone</h1>
</section>

<section class="slide">
	<h1>why?</h1>
</section>

<section class="slide">
	<h1>it's a flying robot!!</h1>
</section>

<section class="slide">
	<h1>fun!</h1>
</section>

<section class="slide">
	<h1>nodecopter</h1>
</section>

<!-- End slides. -->


<!-- Begin extension snippets. Add or remove as needed. -->

<!-- deck.navigation snippet -->
<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<!-- deck.status snippet -->
<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
	<datalist id="goto-datalist"></datalist>
	<input type="submit" value="Go">
</form>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- End extension snippets. -->


<!-- Required JS files. -->
<script src="javascripts/jquery-1.7.2.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="../core/deck.core.js"></script>
<script src="../extensions/hash/deck.hash.js"></script>
<script src="../extensions/menu/deck.menu.js"></script>
<script src="../extensions/goto/deck.goto.js"></script>
<script src="../extensions/status/deck.status.js"></script>
<script src="../extensions/navigation/deck.navigation.js"></script>
<script src="../extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script src="http://localhost:8081/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://localhost:8081');
  socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });

  var timer

	$(function() {
		$.deck('.slide');
    $('#start').click(function(){
      $.deck('next');
		   timer = setInterval(nextSlide, 1000*2)
		})
	});
  
  var nextSlide = function(){
    $.deck('next');
    var currentSlide = $($.deck('getSlide'))
    var step = currentSlide.attr('id').match(/\d+/)[0]
    console.log(step)
    socket.emit('sendCommand', { command: commands[step], slide: step });
    if(step == '20'){
      clearInterval(timer) 
    }
  }
  
  var commands = [
    null, // 0
    null, // 1
    null, // 2
    null, // 3
    null, // 4
    null, // 5
    null, // 6
    null, // 7
    null, // 8
    null, // 9
    'takeoff', // 10
    'clockwise', // 11
    'counterClockwise', // 12
    'up', // 13
    'down', // 14
    'flipAhead', // 15
    'front', // 16
    'back', // 17
    'yawShake', // 18
    'flipLeft', // 19
    'land'  // 20
  ]
</script>
</body>
</html>
